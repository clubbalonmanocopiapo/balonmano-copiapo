<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Club Deportivo Balonmano Copiapó</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --bg:#0b1220; --card:#0f1b2f; --muted:#9bb0d1; --text:#eaf1ff;
      --brand:#2f7cff; --brand2:#00d4ff; --ok:#23c483; --warn:#ffcc66;
      --border:rgba(255,255,255,.08); --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:18px; --max:1120px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:linear-gradient(180deg,#081021, #060b15 60%);color:var(--text);font-family:Inter,system-ui,Segoe UI,Arial}
    a{color:inherit}
    .container{max-width:var(--max);margin:0 auto;padding:0 18px}
    header{position:sticky;top:0;z-index:50;background:rgba(6,11,21,.75);backdrop-filter: blur(10px);border-bottom:1px solid var(--border)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:14px}
    .brand{display:flex;align-items:center;gap:10px;text-decoration:none;font-weight:800;letter-spacing:.2px}
    .logo{width:38px;height:38px;border-radius:12px;background: radial-gradient(circle at 20% 20%, var(--brand2), var(--brand));
      box-shadow:0 10px 25px rgba(47,124,255,.25);display:grid;place-items:center;font-weight:900}
    .brand small{display:block;color:var(--muted);font-weight:600;letter-spacing:0}
    .links{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .links a{text-decoration:none;padding:10px 12px;border:1px solid var(--border);border-radius:999px;color:var(--muted);transition:.2s;font-weight:600;font-size:13px}
    .links a:hover{border-color:rgba(47,124,255,.45);color:var(--text);transform:translateY(-1px)}
    .cta{background:linear-gradient(90deg,var(--brand),var(--brand2));color:#051021 !important;border:none !important}

    .hero{padding:42px 0 26px}
    .hero-grid{display:grid;grid-template-columns:1.25fr .75fr;gap:18px;align-items:stretch}
    .hero-card{background:linear-gradient(180deg, rgba(47,124,255,.18), rgba(15,27,47,.85));
      border:1px solid rgba(47,124,255,.25);border-radius:var(--radius);box-shadow: var(--shadow);padding:22px;overflow:hidden;position:relative}
    .hero-card:before{content:"";position:absolute;inset:-40px;
      background: radial-gradient(circle at 30% 20%, rgba(0,212,255,.25), transparent 55%),
                  radial-gradient(circle at 80% 60%, rgba(47,124,255,.25), transparent 55%);pointer-events:none}
    .hero-card > *{position:relative}
    h1{margin:0 0 10px;font-size:34px;line-height:1.1}
    .sub{color:var(--muted);margin:0 0 18px;max-width:55ch}
    .btnrow{display:flex;gap:10px;flex-wrap:wrap}
    .btn{text-decoration:none;display:inline-flex;align-items:center;justify-content:center;padding:10px 12px;border-radius:12px;
      border:1px solid var(--border);color:var(--text);font-weight:700;transition:.2s;background:rgba(255,255,255,.03);cursor:pointer}
    .btn:hover{transform:translateY(-1px);border-color:rgba(47,124,255,.35)}
    .btn.primary{background:linear-gradient(90deg,var(--brand),var(--brand2));color:#051021;border:none}

    section{padding:26px 0}
    .section-title{display:flex;align-items:flex-end;justify-content:space-between;gap:14px;margin-bottom:12px}
    .section-title h2{margin:0;font-size:22px}
    .section-title p{margin:0;color:var(--muted);font-size:13px;max-width:70ch}

    .card{background:rgba(15,27,47,.75);border:1px solid var(--border);border-radius:var(--radius);box-shadow: var(--shadow);padding:16px}
    .gallery{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
    .ph{grid-column:span 4;border-radius:16px;border:1px solid var(--border);overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      min-height:140px;position:relative;cursor:pointer}
    .ph .cap{position:absolute;left:10px;bottom:10px;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.12);
      font-size:12px;color:var(--text);backdrop-filter: blur(8px)}
    .ph img{width:100%;height:100%;min-height:140px;object-fit:cover;display:block;background:rgba(0,0,0,.12)}
    .hint{color:var(--muted);font-size:12px}

    @media (max-width: 980px){ .hero-grid{grid-template-columns:1fr} .ph{grid-column:span 6} }
    @media (max-width: 640px){ h1{font-size:28px} .links{display:none} .ph{grid-column:span 12} }

    /* Modal entrenamientos */
    .bm-modal{display:none;position:fixed;inset:0;z-index:9999}
    .bm-modal.show{display:block}
    .bm-modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.65);backdrop-filter: blur(8px)}
    .bm-modal-panel{position:relative;width:min(980px, calc(100% - 22px));margin:22px auto;background:rgba(15,27,47,.92);
      border:1px solid rgba(255,255,255,.10);border-radius:18px;box-shadow: 0 20px 60px rgba(0,0,0,.55);padding:14px;max-height: calc(100vh - 44px);overflow:auto}
    .bm-modal-head{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:6px 6px 10px;border-bottom:1px solid rgba(255,255,255,.08)}
    .bm-modal-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:10px;padding:12px 6px 6px}
    .bm-modal-item{grid-column:span 4;border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);position:relative}
    .bm-modal-item img{width:100%;height:190px;object-fit:cover;display:block;background:rgba(0,0,0,.12)}
    .bm-modal-cap{position:absolute;left:10px;bottom:10px;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.12);
      font-size:12px;color:var(--text);backdrop-filter: blur(8px)}
    @media(max-width: 980px){ .bm-modal-item{ grid-column:span 6; } }
    @media(max-width: 640px){ .bm-modal-item{ grid-column:span 12; } }
  </style>
</head>

<body>
<header>
  <div class="container nav">
    <a class="brand" href="#inicio">
      <div class="logo">BM</div>
      <div>
        Club Deportivo Balonmano Copiapó
        <small>Fotos · Inscripción · Pagos · Estadísticas · Noticias</small>
      </div>
    </a>

    <nav class="links" aria-label="Navegación principal">
      <a href="#fotos">Fotos</a>
      <a href="#unete">Únete</a>
      <a href="#pagos">Pagos</a>
      <a href="#estadisticas">Estadísticas</a>
      <a href="#noticias">Noticias</a>
      <a class="cta" href="#unete">Inscribirse</a>
    </nav>
  </div>
</header>

<main id="inicio" class="container">
  <section class="hero">
    <div class="hero-grid">
      <div class="hero-card">
        <h1>Pasión, disciplina y comunidad en Copiapó</h1>
        <p class="sub">Sitio oficial del club: comparte nuestros logros, revisa estadísticas, entérate de campeonatos, y únete al equipo.</p>
        <div class="btnrow">
          <a class="btn primary" href="#unete">Quiero unirme</a>
          <a class="btn" href="#pagos">Pagar mensualidad</a>
          <a class="btn" href="#noticias">Ver noticias</a>
        </div>
      </div>

      <aside class="hero-card" style="border:1px solid var(--border);background:rgba(15,27,47,.75)">
        <h2 style="font-size:18px;margin:0 0 10px">Panel</h2>
        <p class="hint" style="margin:0">Aquí puedes poner contacto, próximos eventos y resultado destacado.</p>
      </aside>
    </div>
  </section>

  <!-- FOTOS -->
  <section id="fotos">
    <div class="section-title">
      <div>
        <h2>Fotos del club</h2>
        <p>“Entrenamiento” muestra 1 foto. Al hacer click, carga automáticamente TODAS las fotos de la carpeta Entrenamiento en Drive.</p>
      </div>
      <div class="hint">Drive</div>
    </div>

    <div class="card">
      <div class="gallery">
        <!-- SOLO: Entrenamiento con imagen + click -->
        <div class="ph" id="bmTrainingOpen" title="Click para ver galería de Entrenamientos">
          <img id="bmTrainingCover" alt="Entrenamiento">
          <div class="cap">Entrenamiento</div>
        </div>

        <!-- Restante sin tocar formato -->
        <div class="ph"><div class="cap">Campeonato</div></div>
        <div class="ph"><div class="cap">Equipo</div></div>
        <div class="ph"><div class="cap">Infantil</div></div>
        <div class="ph"><div class="cap">Juvenil</div></div>
        <div class="ph"><div class="cap">Adultos</div></div>
      </div>
    </div>
  </section>

  <!-- (Resto del sitio igual, omitido para no tocar tu estructura; puedes pegar tu contenido original aquí tal cual) -->

  <section id="unete"><div class="card"><h2>Únete</h2><p class="hint">Tu contenido original aquí.</p></div></section>
  <section id="pagos"><div class="card"><h2>Pagos</h2><p class="hint">Tu contenido original aquí.</p></div></section>
  <section id="estadisticas"><div class="card"><h2>Estadísticas</h2><p class="hint">Tu contenido original aquí.</p></div></section>
  <section id="noticias"><div class="card"><h2>Noticias</h2><p class="hint">Tu contenido original aquí.</p></div></section>
</main>

<footer style="padding:20px 0 34px;border-top:1px solid var(--border);color:var(--muted);font-size:13px">
  <div class="container">
    <b>Club Deportivo Balonmano Copiapó</b><br/>
    <span>© <span id="year"></span> · Todos los derechos reservados</span>
  </div>
</footer>

<!-- Modal Entrenamientos -->
<div class="bm-modal" id="bmTrainingModal" aria-hidden="true">
  <div class="bm-modal-backdrop" id="bmTrainingClose"></div>
  <div class="bm-modal-panel" role="dialog" aria-modal="true" aria-label="Galería Entrenamientos">
    <div class
